/* --- 1. VARIABLES --- */
$c-dark-blue: #112C50;
$c-beige-bg: #F1F0EA;
$c-white: #FFFFFF;
$c-light-gray: #F5F5F5;
$c-accent-blue: #126F8D;
$c-btn-orange: #C55A26;
$c-btn-gold: #E3BE86;
$c-text-main: #000000;

$font-serif: 'Reckless Neue', serif;
$font-sans: 'Neue Montreal', sans-serif;

/* --- 2. MIXINS --- */

// Mixin para la condición del rectángulo azul decorativo
@mixin blue-decoration {
  position: relative;
  padding-top: 20px; // Espacio para que no se solape con el texto anterior

  &::before {
    content: "";
    position: absolute;
    top: -10px; // Ajuste para situarlo encima del texto
    left: 0;
    width: 64px; // Ancho según tu diseño original
    height: 8px; // Alto según tu diseño original
    background-color: $c-accent-blue;
  }
}

// Mixin para el Grid de 12 columnas (Condición 1)
@mixin grid-12 {
  display: grid;
  grid-template-columns: repeat(12, 1fr);
  gap: 20px;
  max-width: 1440px; // Ancho máximo del diseño
  width: 90%; // Margen lateral de seguridad
  margin: 0 auto;
}

/* --- 3. RESET Y BASE --- */
* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

body {
  font-family: $font-sans;
  background-color: $c-beige-bg;
  color: $c-text-main;
  overflow-x: hidden;
}

a {
  text-decoration: none;
  color: inherit;
}

img {
  max-width: 100%;
  display: block;
}

/* Botones */
.btn {
  display: inline-block;
  padding: 15px 30px;
  border-radius: 10px;
  text-transform: uppercase;
  font-weight: 500;
  font-size: 14px;
  letter-spacing: 0.07em;
  text-align: center;
  cursor: pointer;

  &.primary {
    background-color: $c-btn-orange;
    color: $c-light-gray;
  }
  
  &.secondary {
    background-color: $c-btn-gold;
    color: $c-text-main;
  }
}

/* --- 4. HEADER Y HERO --- */
header.hero {

    background-image: linear-gradient(to right, rgba(17, 28, 44, 0.8), rgba(17, 28, 44, 0.4)), 
                        url('../assets/img/header-background.jpg');
    color: $c-beige-bg;
    padding-bottom: 80px;
    position: relative;
  
  .top-bar {
    background-color: $c-dark-blue;
    padding: 10px 0;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    font-size: 14px;

    /* Contenedor interno que usa el Grid de 12 columnas */
    &-content {
        @include grid-12;
        
        // Sobrescribimos el display para alinear los hijos directos
        display: flex; 
        align-items: center; 
        grid-column: 1 / -1; // Aseguramos que el contenedor flex ocupe las 12 columnas

        // 1. EL EMAIL (Primer elemento)
        > a:first-child {
        margin-right: auto;
        // Esto hace que el email se quede a la izquierda y empuje
        // a los idiomas y al teléfono hacia la derecha del todo.
            }
        }
    }

    nav {
        @include grid-12;
        align-items: center;
        padding-top: 20px;
        padding-bottom: 60px;

        .logo {
        grid-column: 1 / 4; // Logo a la izquierda
        }

        .nav-links {
        grid-column: 6 / 13; // Menú a la derecha
        display: flex;
        justify-content: flex-end;
        gap: 40px;
        list-style: none;

        a {
            font-weight: 700;
            color: $c-light-gray;
        }
        }
    }

    // Contenido principal del Hero usando Grid
    .hero-content {
        @include grid-12;
        
        // Contenedor interno para el texto
        > div, > p, > h1, .hero-buttons {
        grid-column: 2 / 8; // Del la columna 2 a la 8
        }

        h1 {
        font-family: $font-serif;
        font-size: 55px;
        line-height: 1.2;
        margin-bottom: 20px;
        }

        .hero-buttons {
        display: flex;
        gap: 20px;
        margin-top: 30px;
        }
    }
}

/* --- 5. SECCIÓN SOBRE NOSOTROS (About) --- */
.about {
  @include grid-12;
  padding: 100px 0;
  align-items: center;

  article {
    // Colocamos el texto en las primeras 6 columnas
    grid-column: 2 / 7;

    h2 {
      font-family: $font-serif;
      font-size: 36px;
      margin-bottom: 30px;
      
      // APLICANDO EL MIXIN DECORATIVO AQUÍ
      @include blue-decoration;
    }

    p {
      font-size: 18px;
      margin-bottom: 20px;
      line-height: 1.4;
    }
  }

  aside {
    // Colocamos la imagen en las columnas de la derecha
    grid-column: 8 / 12;
    
    img {
      border-radius: 31px;
    }
  }
}

/* --- 6. SERVICIOS --- */
.services {
  background-color: $c-dark-blue; // Fallback
  color: $c-light-gray;
  padding: 100px 0;
  text-align: center;
  
  // Usamos grid para centrar el contenido restringiendo el ancho
  @include grid-12;

  h3 {
    grid-column: 3 / 11; // Centrado
    font-family: $font-serif;
    font-size: 52px;
    margin-bottom: 20px;
  }

  p {
    grid-column: 4 / 10; // Más estrecho para lectura
    font-size: 20px;
    margin-bottom: 40px;
  }

  a.btn {
    grid-column: 5 / 9;
    justify-self: center; // Centrar el botón en su celda grid
  }
}

/* --- 7. EQUIPO (Team) --- */
.team {
  @include grid-12;
  padding: 100px 0;

  h3 {
    grid-column: 2 / 6; // Título a la izquierda
    font-family: $font-serif;
    font-size: 36px;
    margin-bottom: 50px;
    
    // APLICANDO EL MIXIN DECORATIVO
    @include blue-decoration;
  }

  .team-members {
    grid-column: 2 / 12; // Ocupa casi todo el ancho
    display: grid;
    // Sub-grid para las tarjetas de los miembros
    grid-template-columns: repeat(3, 1fr); 
    gap: 30px;

    article {
      background: $c-light-gray;
      padding-bottom: 20px;
      
      h4 {
        font-family: $font-serif;
        font-size: 20px;
        margin: 15px 0 5px 15px;
      }
      p {
        margin-left: 15px;
        font-size: 14px;
      }
    }
  }
}

/* --- 8. TESTIMONIOS --- */
.testimonials {
  background-color: $c-dark-blue;
  color: $c-white;
  padding: 100px 0;
  
  // Contenedor interno para usar el Grid
  .wrapper { 
    @include grid-12; // Podrías aplicar el mixin al section directamente también
  }

  h3 {
    grid-column: 2 / 8;
    font-family: $font-serif;
    font-size: 36px;
    margin-bottom: 50px;
    
    // APLICANDO EL MIXIN DECORATIVO
    @include blue-decoration;
    
    // Sobrescribimos el color del pseudo-elemento si es necesario para fondo oscuro
    &::before {
      background-color: $c-accent-blue; 
    }
  }

  .testimonials-container {
    grid-column: 2 / 12;
    display: grid;
    grid-template-columns: repeat(3, 1fr); // 3 columnas iguales
    gap: 30px;

    blockquote {
      background-color: $c-beige-bg;
      color: $c-text-main;
      padding: 30px;
      border-radius: 4px;
      
      p {
        font-style: italic;
        margin-bottom: 20px;
      }
      
      footer {
        font-weight: bold;
        text-align: right;
      }
    }
  }
}

/* --- 9. FORMULARIO DE CONTACTO --- */
.contact-form {
  @include grid-12;
  padding: 100px 0;

  // Texto introductorio a la izquierda
  .intro-text-wrapper {
    grid-column: 2 / 5;
    
    h3 {
      font-family: $font-serif;
      font-size: 36px;
      margin-bottom: 30px;
      
      // APLICANDO EL MIXIN DECORATIVO
      @include blue-decoration;
    }
    
    p {
      font-size: 18px;
    }
  }

  // Formulario a la derecha
  form {
    grid-column: 6 / 12;
    background-color: #D9D9D9;
    padding: 40px;
    border-radius: 4px;
    
    display: grid;
    grid-template-columns: 1fr 1fr; // Grid interno de 2 columnas para inputs
    gap: 20px;

    input, textarea {
      width: 100%;
      padding: 15px;
      border: none;
      background: $c-white;
    }

    textarea {
      grid-column: 1 / -1; // Ocupa todo el ancho del form
      height: 120px;
      resize: none;
    }

    button {
      grid-column: 1 / -1;
      justify-self: start;
      border: none;
    }
  }
}

/* --- 10. UBICACIÓN --- */
.location {
  @include grid-12;
  padding-bottom: 100px;

  h3 {
    grid-column: 2 / 6;
    font-family: $font-serif;
    font-size: 36px;
    margin-bottom: 20px;

    // APLICANDO EL MIXIN DECORATIVO
    @include blue-decoration;
  }

  p {
    grid-column: 2 / 6;
    font-size: 24px;
    margin-bottom: 20px;
  }

  .map {
    grid-column: 7 / 12;
    height: 400px;
    background-color: #ddd; // Placeholder si no carga el iframe
    
    iframe {
      width: 100%;
      height: 100%;
      border: 0;
    }
  }
}

/* --- 11. FOOTER --- */
footer {
  background-color: $c-dark-blue;
  color: $c-beige-bg;
  padding: 80px 0;
  
  @include grid-12; // Layout general del footer

  .footer-info {
    grid-column: 2 / 4;
    display: flex;
    flex-direction: column;
    gap: 10px;
  }

  .footer-nav {
    grid-column: 5 / 7;
    
    h4 { text-transform: uppercase; margin-bottom: 15px; }
    ul li { margin-bottom: 8px; }
  }

  .footer-logo {
    grid-column: 8 / 10;
    
    h1 { font-family: $font-serif; margin-bottom: 15px; }
    .social-media { display: flex; gap: 10px; }
  }

  .newsletter {
    grid-column: 11 / 13;
    
    input {
      width: 100%;
      padding: 10px;
      margin: 10px 0;
      border-radius: 20px;
      border: 1px solid #EDEDED;
      background: transparent;
      color: white;
    }
  }
}

/* --- 12. RESPONSIVE (MEDIA QUERIES) --- */
/* Adaptación del Grid para pantallas móviles */
@media (max-width: 768px) {
  // Redefinimos el mixin grid-12 implícitamente o sobrescribimos las columnas
  
  header.hero .hero-content > *,
  .about article, 
  .about aside,
  .services h3, .services p, .services a.btn,
  .team h3, .team .team-members,
  .testimonials h3, .testimonials .testimonials-container,
  .contact-form .intro-text-wrapper, .contact-form form,
  .location h3, .location p, .location .map,
  footer > div {
    grid-column: 1 / -1 !important; // Todo ocupa el ancho completo en móvil
  }
  
  nav {
    display: flex; 
    flex-direction: column;
    
    .nav-links {
      margin-top: 20px;
      justify-content: center;
    }
  }

  .team .team-members,
  .testimonials .testimonials-container {
    grid-template-columns: 1fr; // Una sola columna para las tarjetas
  }

  .contact-form form {
    grid-template-columns: 1fr; // Formulario en una sola columna
  }
  
  footer {
    display: flex;
    flex-direction: column;
    gap: 40px;
  }
}